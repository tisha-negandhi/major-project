<!DOCTYPE html>
<html>
<title>
    | Gesture Mode |
</title>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            background-image: url(https://lh3.googleusercontent.com/2ENw0mvixg30SemyzmZ1g-LkI7P8Irm3UM6kXZ3r1QQ0I2bppvVJ-oh-nYabWV8SHk2GI3M_A6e_e3sWpLzhhya0oEYIZE0OxotkwEJAWrWMHsMcGd_T_lCbNKof7YgxP3nN3O_pUlU=w2400);
        }

        .container {
            text-align: center;
            margin: 20% auto;
            color: white;
            font-family: 'Montserrat', sans-serif;
        }
        button {
            border-radius: 14px;
            background-color: #666f6f;
            border: 1px solid #00FFFF;
            color: white;
            font-family: 'Montserrat', sans-serif;
        }
        button:active {
            background-color: #ADDBE6;

        }
    </style>
    <script>
        var http = new XMLHttpRequest();

        var apiKey, deviceId, x, y, z;// variable to store apiKey and devicId

        apiKey = "d3565c2e-7534-419d-b023-2e172448b479"; // Enter your apiKey
        deviceId = "BOLT293592"; // Enter your deviceId
        // // // // 
        function init() {
      
      var dataContainerMotion = document.getElementById('dataContainerMotion');

      if(window.DeviceMotionEvent) {
      window.addEventListener('devicemotion', function(event) {
                x = Math.round(event.accelerationIncludingGravity.x);
                y = Math.round(event.accelerationIncludingGravity.y);
                z = Math.round(event.accelerationIncludingGravity.z);
                // var r = event.rotationRate;
                var html = 'Acceleration:<br />';
                html += 'x: ' + x +'<br />y: ' + y + '<br/>z: ' + z+ '<br />';
                dataContainerMotion.innerHTML = html;   
                coordinates();               
              });
      }
    } 
    function coordinates(){
        if(x>=0 && y<=-2 && z<10) {
            func.innerHTML = 'Calling Forward func'
            forward();
        }
        else if(x>=-1 && y>2 && z<10) {
            func.innerHTML = 'Calling Backward func'
            backward();
        }
        else if(x<=-2 && y>=0 && z<10){
            func.innerHTML = 'Calling Right func'
            right();
        }
        else if(x>=3 && y>=0 && z<10) {
            func.innerHTML = 'Calling Left func'
            left();
        }
        else if(x==0 && y==0 && z>=9) {
            func.innerHTML = 'Calling stop func'
            stop();
        }
    
    }
   
            function forward(){
            http.open("GET","https://cloud.boltiot.com/remote/"+apiKey+"/serialWrite?data=FORWARD&deviceName="+deviceId,true); 
            http.send();
            }

            // function for move robot in backward direction
            function backward(){
            http.open("GET","https://cloud.boltiot.com/remote/"+apiKey+"/serialWrite?data=BACKWARD&deviceName="+deviceId,true);
            http.send();
            }

            // function for move robot in right direction
            function right(){
            http.open("GET","https://cloud.boltiot.com/remote/"+apiKey+"/serialWrite?data=RIGHT&deviceName="+deviceId,true);
            http.send();
            }

            // function for move left in forward direction
            function left(){
            http.open("GET","https://cloud.boltiot.com/remote/"+apiKey+"/serialWrite?data=LEFT&deviceName="+deviceId,true);
            http.send();
            }

            // function for stop robot
            function stop(){
            http.open("GET","https://cloud.boltiot.com/remote/"+apiKey+"/serialWrite?data=STOP&deviceName="+deviceId,true);
            http.send();
            }
  
        
        function open(){ 
            http.open("GET","https://cloud.boltiot.com/remote/"+apiKey+"/serialWrite?data=OPEN&deviceName="+deviceId,true);
            http.send();
        }
        function close(){ 
            http.open("GET","https://cloud.boltiot.com/remote/"+apiKey+"/serialWrite?data=CLOSE&deviceName="+deviceId,true);
            http.send();
        }
    </script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" data-auto-replace-svg="nest"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" data-auto-replace-svg="nest"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body onload="init()">
    <h1 style="color: white; font-family: 'Montserrat', sans-serif ; margin: 5% auto; text-align: center;">Elaichi</h1>
    <div class="container">
        <div>
            <h2>Gesture Mode <i class="fas fa-hands-wash"></i></h2>
            <div id="dataContainerMotion">
                No device motion data
              </div>
              <div id="func"></div>
            <div>
                <p style="font-family: 'Montserrat', sans-serif  ; font-size: 25px; ">Gripper</p>
                <button style="height: 40px; width: 80px; " onclick="open()">OPEN</button>
                <button style="height: 40px; width: 80px; " onclick="close()">CLOSE </button>
                <br>
                <br>
                <a href="https://htmlpreview.github.io/?https://github.com/tisha-negandhi/major-project/blob/main/mainpage.html"
                style="color: white;"><button style="height: 40px; width: 120px; " onclick="stop()">EXIT MODE <i
                        class="fas fa-reply"></i></button></a>
           </div>
            <br>
            
        
</body>

</html>